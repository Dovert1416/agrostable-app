<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üå± AgroStable</title>
  <link href="https://fonts.googleapis.com/css?family=Inter:400,500,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }
    body {
      min-height: 100vh;
      background: linear-gradient(135deg, #e0f7fa 0%, #e8f5e9 100%);
      font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #222;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      line-height: 1.6;
    }
    
    /* SELECTOR DE IDIOMAS - ARREGLADO */
    .language-selector {
        position: absolute;
        top: 20px;
        right: 20px;
        z-index: 1000;
        background: rgba(255,255,255,0.95);
        padding: 10px 15px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        border: 1px solid rgba(76,175,80,0.2);
        backdrop-filter: blur(10px);
    }
    .language-selector select {
        background: transparent;
        border: none;
        padding: 5px 8px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        color: #2E7D32;
        outline: none;
    }
    .language-selector select:hover {
        color: #1976D2;
    }
    
    /* HERO SECTION - ARREGLADO */
    .hero {
      background: linear-gradient(135deg, rgba(46,125,50,0.92) 0%, rgba(25,118,210,0.88) 100%), url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;
      color: #fff;
      min-height: 120vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 180px 24px 60px 24px;
      position: relative;
      border-radius: 0 0 40px 40px;
      margin-bottom: 0;
      box-shadow: 0 8px 32px rgba(67,233,123,0.08);
      overflow: hidden;
      width: 100%;
      box-sizing: border-box;
    }
    .hero-title {
      font-size: 3.2rem;
      font-weight: 800;
      margin-bottom: 24px;
      letter-spacing: 0.5px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 18px;
      color: #fff;
      text-shadow: 0 2px 16px rgba(46,125,50,0.18);
      max-width: 1000px;
      line-height: 1.2;
    }
    .hero-subtitle {
      font-size: 1.7rem;
      font-weight: 500;
      margin-bottom: 20px;
      color: #e0f2f1;
      text-shadow: 0 1px 8px rgba(25,118,210,0.13);
      max-width: 800px;
    }
    .hero-desc {
      font-size: 1.25rem;
      font-weight: 400;
      margin-bottom: 40px;
      color: #e3fcec;
      text-shadow: 0 1px 8px rgba(25,118,210,0.10);
      max-width: 700px;
      line-height: 1.5;
    }
    .hero-cta {
      background: linear-gradient(135deg, #4CAF50 0%, #1976D2 100%);
      color: #fff;
      border: none;
      border-radius: 18px;
      padding: 22px 60px;
      font-size: 1.35rem;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(33,150,243,0.10);
      transition: background 0.2s, transform 0.2s, box-shadow 0.2s;
      margin: 20px 0 40px 0;
      letter-spacing: 0.5px;
    }
    .hero-cta:hover {
      background: linear-gradient(135deg, #388e3c 0%, #1976d2 100%);
      transform: translateY(-2px) scale(1.04);
      box-shadow: 0 8px 32px rgba(33,150,243,0.18);
    }
    
    /* Estad√≠sticas HERO */
    .hero-stats {
      display: flex;
      gap: 40px;
      justify-content: center;
      margin-top: 48px;
      flex-wrap: wrap;
      animation: fadeInUp 1.2s cubic-bezier(.23,1.01,.32,1) both;
      max-width: 900px;
    }
    .hero-stat {
      background: rgba(255,255,255,0.13);
      border-radius: 16px;
      padding: 22px 36px;
      color: #fff;
      font-size: 1.18rem;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(33,150,243,0.10);
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 180px;
      margin-bottom: 8px;
      backdrop-filter: blur(2px);
    }
    .hero-stat-icon {
      font-size: 2.2rem;
      margin-right: 8px;
    }
    
    /* SEPARACI√ìN ENTRE SECCIONES */
    .section {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto 0 auto;
      padding: 80px 24px 80px 24px;
      box-sizing: border-box;
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.06);
      margin-bottom: 80px;
      background: #fff;
    }
    .section.bg-alt {
      background: #f7fafc;
      box-shadow: 0 4px 16px rgba(0,0,0,0.04);
    }
    
    /* QU√â ANALIZAMOS */
    .analizamos-cards {
      display: flex;
      gap: 32px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 32px;
      margin-bottom: 0;
    }
    .analizamos-card {
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 4px 18px rgba(76,175,80,0.07);
      padding: 44px 32px 44px 32px;
      flex: 1 1 260px;
      min-width: 260px;
      max-width: 370px;
      text-align: center;
      margin-bottom: 16px;
      transition: box-shadow 0.2s, transform 0.2s;
      border: 2px solid #e0f2f1;
      animation: fadeInUp 1.1s cubic-bezier(.23,1.01,.32,1) both;
      min-height: 370px;
    }
    .analizamos-card:hover {
      box-shadow: 0 8px 32px rgba(33,150,243,0.13);
      transform: translateY(-4px) scale(1.03);
      border-color: #b2dfdb;
    }
    .analizamos-icon {
      font-size: 3.5rem;
      margin-bottom: 18px;
      display: block;
    }
    .analizamos-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: #2E7D32;
      letter-spacing: 0.2px;
    }
    .analizamos-desc {
      font-size: 1.08rem;
      color: #222;
      margin-bottom: 8px;
      line-height: 1.6;
      text-align: left;
    }
    
    /* SECCI√ìN TECNOLOG√çA (GRID) */
    .funciona-steps {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 32px;
      margin-top: 32px;
      justify-content: center;
      width: 100%;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }
    @media (max-width: 1024px) {
      .funciona-steps { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
      .funciona-steps { grid-template-columns: 1fr; }
    }
    .funciona-step {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 4px 16px rgba(25,118,210,0.10);
      padding: 30px 18px 30px 18px;
      min-width: 200px;
      max-width: 320px;
      text-align: center;
      margin-bottom: 12px;
      border: 2px solid #e3f2fd;
      transition: box-shadow 0.2s, transform 0.2s, border-color 0.2s;
      animation: fadeInUp 1.1s cubic-bezier(.23,1.01,.32,1) both;
    }
    .funciona-step:hover {
      box-shadow: 0 8px 32px rgba(76,175,80,0.13);
      transform: translateY(-4px) scale(1.03);
      border-color: #b3e5fc;
    }
    .funciona-step-num {
      font-size: 2.7rem;
      font-weight: 800;
      color: #1976D2;
      margin-bottom: 18px;
      display: block;
    }
    .funciona-step-icon {
      font-size: 3.5rem;
      margin-bottom: 10px;
      display: block;
    }
    .funciona-step-desc {
      font-size: 1.18rem;
      color: #333;
      font-weight: 500;
    }
    
    /* Estad√≠sticas tecnolog√≠a */
    .funciona-datos {
      margin-top: 36px;
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      justify-content: center;
      animation: fadeInUp 1.2s cubic-bezier(.23,1.01,.32,1) both;
    }
    .funciona-dato {
      background: #e3f2fd;
      color: #1976d2;
      border-radius: 12px;
      padding: 16px 24px;
      font-size: 1.18rem;
      font-weight: 600;
      margin-bottom: 8px;
      min-width: 180px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(33,150,243,0.06);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .funciona-dato-icon {
      font-size: 2rem;
      margin-right: 8px;
    }
    
    /* Cultivos soportados */
    .cultivos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 18px;
      margin-top: 32px;
      margin-bottom: 0;
    }
    .cultivo-item {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(76,175,80,0.07);
      padding: 16px 0;
      text-align: center;
      font-size: 1.08rem;
      font-weight: 600;
      color: #388e3c;
      border: 2px solid #e0f2f1;
      transition: box-shadow 0.2s, transform 0.2s, border-color 0.2s;
    }
    .cultivo-item:hover {
      box-shadow: 0 8px 32px rgba(33,150,243,0.13);
      transform: translateY(-2px) scale(1.04);
      border-color: #b2dfdb;
    }
    
    /* Formulario y resultados */
    .main-container {
      max-width: 900px;
      width: 100%;
      background: linear-gradient(145deg, #ffffff 0%, #f8f6ff 100%);
      box-shadow: 0 12px 40px rgba(94, 53, 177, 0.15);
      border: 1px solid rgba(94, 53, 177, 0.08);
      border-radius: 20px;
      padding: 60px 40px 60px 40px;
      margin: 0 auto 48px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-sizing: border-box;
    }
    .form-section-title {
      font-size: 2rem;
      font-weight: 700;
      color: #2E7D32;
      margin-bottom: 32px;
      text-align: center;
    }
    .form-group {
      margin-bottom: 20px;
      width: 100%;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #2E7D32;
      font-size: 16px;
    }
    input, select {
      width: 100%;
      padding: 16px 20px;
      border-radius: 12px;
      border: 2px solid #E8F5E8;
      font-size: 16px;
      display: block;
      box-sizing: border-box;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    input:focus, select:focus {
      outline: none;
      border-color: #4CAF50;
      box-shadow: 0 0 0 3px rgba(76,175,80,0.1);
    }
    .form-actions {
      grid-column: 1 / -1;
      display: flex;
      gap: 20px;
      margin-top: 8px;
      justify-content: center;
      width: 100%;
    }
    button[type="submit"] {
      background: linear-gradient(135deg, #4CAF50 0%, #1976D2 100%);
      color: #fff;
      border: none;
      border-radius: 16px;
      padding: 20px 60px;
      font-size: 20px;
      font-weight: 700;
      width: 100%;
      margin-top: 24px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s, background 0.2s;
      box-shadow: 0 2px 8px rgba(76, 175, 80, 0.08);
      letter-spacing: 0.5px;
    }
    button[type="submit"]:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
      background: linear-gradient(135deg, #388e3c 0%, #1976d2 100%);
    }
    button#clear-btn {
      background: #F44336;
      color: #fff;
      border: none;
      border-radius: 16px;
      padding: 20px 60px;
      font-size: 20px;
      font-weight: 700;
      width: 100%;
      margin-top: 24px;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s;
      box-shadow: 0 2px 8px rgba(244, 67, 54, 0.08);
      letter-spacing: 0.5px;
    }
    button#clear-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(244, 67, 54, 0.18);
    }
    
    /* Animaciones */
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    /* Responsive */
    @media (max-width: 1200px) {
      .section, .main-container { max-width: 98vw; }
      .funciona-steps { max-width: 98vw; }
    }
    @media (max-width: 1024px) {
      .section, .main-container { padding: 24px 8px; }
      .hero { padding: 80px 8px 80px 8px; min-height: 80vh; }
      .funciona-steps { grid-template-columns: repeat(2, 1fr); }
      .hero-title { font-size: 2.5rem; }
      .hero-subtitle { font-size: 1.4rem; }
    }
    @media (max-width: 768px) {
      .analizamos-cards, .funciona-datos { flex-direction: column; gap: 18px; }
      .section, .main-container { padding: 16px 2vw; }
      .hero { padding: 60px 2vw 60px 2vw; min-height: 70vh; }
      .form-section-title { font-size: 1.3rem; }
      .funciona-steps { grid-template-columns: 1fr 1fr; }
      .hero-title { font-size: 2rem; }
      .hero-subtitle { font-size: 1.2rem; }
      .hero-desc { font-size: 1.1rem; }
      .language-selector {
        top: 15px;
        right: 15px;
        padding: 8px 12px;
      }
    }
    @media (max-width: 600px) {
      .funciona-steps { grid-template-columns: 1fr; }
      .hero-stats { gap: 20px; }
      .hero-stat { min-width: 150px; padding: 18px 24px; }
    }
    @media (max-width: 480px) {
      .section, .main-container { padding: 8px 0; }
      .hero-title { font-size: 1.6rem; }
      .hero-subtitle { font-size: 1.1rem; }
      .hero-desc { font-size: 0.98rem; }
      .form-section-title { font-size: 1.1rem; }
      .hero { padding: 40px 1rem 40px 1rem; }
    }
    
    /* Navegaci√≥n suave */
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body>
  <!-- SELECTOR DE IDIOMAS ARREGLADO -->
  <div class="language-selector">
    <select id="languageSelect" onchange="changeLanguage()">
        <option value="es">üá™üá∏ Espa√±ol</option>
        <option value="en">üá∫üá∏ English</option>
        <option value="pt">üáµüáπ Portugu√™s</option>
        <option value="fr">üá´üá∑ Fran√ßais</option>
        <option value="it">üáÆüáπ Italiano</option>
    </select>
  </div>
  
  <!-- HERO SECTION ARREGLADO -->
  <section class="hero" id="hero">
    <div class="hero-title" data-translate="heroTitle"><span class="icon">üå±</span>AgroStable - An√°lisis Satelital Agr√≠cola Inteligente</div>
    <div class="hero-subtitle" data-translate="heroSubtitle">Previene p√©rdidas en tu cultivo con datos satelitales en tiempo real</div>
    <div class="hero-desc" data-translate="heroDescription">Analiza la salud de tu plantaci√≥n, condiciones clim√°ticas y estabilidad del suelo usando tecnolog√≠a espacial de √∫ltima generaci√≥n</div>
    <button class="hero-cta" data-translate="heroButton" onclick="document.getElementById('form-section').scrollIntoView({behavior:'smooth'})">Analizar mi finca gratis</button>
    <div class="hero-stats">
      <div class="hero-stat"><span class="hero-stat-icon">üì°</span><span data-translate="stat1">15+ cultivos analizados</span></div>
      <div class="hero-stat"><span class="hero-stat-icon">üõ∞Ô∏è</span><span data-translate="stat2">10m resoluci√≥n espacial</span></div>
      <div class="hero-stat"><span class="hero-stat-icon">‚è±Ô∏è</span><span data-translate="stat3">30 segundos an√°lisis</span></div>
      <div class="hero-stat"><span class="hero-stat-icon">üìä</span><span data-translate="stat4"><5% margen error</span></div>
    </div>
  </section>

  <!-- QU√â ANALIZAMOS -->
  <section class="section" id="analizamos">
    <h2 style="text-align:center; color:#2E7D32; font-size:2rem; font-weight:700; margin-bottom:18px;" data-translate="whatAnalyze">¬øQu√© analizamos en tu finca?</h2>
    <div class="analizamos-cards">
      <div class="analizamos-card">
        <span class="analizamos-icon">üå±</span>
        <div class="analizamos-title" data-translate="ndviTitle">NDVI - Salud de Plantas</div>
        <div class="analizamos-desc" data-translate="ndviDesc">Usando im√°genes multiespectrales de Sentinel-2, medimos la reflectancia infrarroja de tus cultivos. Valores altos indican vegetaci√≥n densa y saludable, mientras valores bajos revelan estr√©s h√≠drico, deficiencias nutricionales, plagas o enfermedades. Nuestro algoritmo compara tu NDVI con rangos √≥ptimos espec√≠ficos para cada cultivo.</div>
      </div>
      <div class="analizamos-card">
        <span class="analizamos-icon">üå§Ô∏è</span>
        <div class="analizamos-title" data-translate="climateTitle">Condiciones Clim√°ticas</div>
        <div class="analizamos-desc" data-translate="climateDesc">Datos meteorol√≥gicos actualizados cada hora desde estaciones globales: temperatura ambiente, humedad relativa, velocidad del viento y condiciones atmosf√©ricas. Evaluamos si tu microclima actual favorece el crecimiento de tu cultivo espec√≠fico seg√∫n par√°metros agron√≥micos establecidos.</div>
      </div>
      <div class="analizamos-card">
        <span class="analizamos-icon">üèîÔ∏è</span>
        <div class="analizamos-title" data-translate="soilTitle">Estabilidad del Suelo</div>
        <div class="analizamos-desc" data-translate="soilDesc">Tecnolog√≠a radar de apertura sint√©tica (SAR) de Sentinel-1 detecta movimientos milim√©tricos del terreno. Medimos subsidencia, expansi√≥n del suelo y microdeformaciones que pueden afectar sistemas de riego, estructuras agr√≠colas y desarrollo radicular de tus plantas.</div>
      </div>
    </div>
  </section>

  <!-- C√ìMO FUNCIONA -->
  <section class="section bg-alt" id="funciona">
    <h2 style="text-align:center; color:#1976d2; font-size:2rem; font-weight:700; margin-bottom:18px;" data-translate="howWorks">Tecnolog√≠a satelital al servicio de tu finca</h2>
    <div class="funciona-steps">
      <div class="funciona-step">
        <span class="funciona-step-icon">üìç</span>
        <span class="funciona-step-num">1</span>
        <div class="funciona-step-desc" data-translate="step1">Ingresa las coordenadas de tu finca</div>
      </div>
      <div class="funciona-step">
        <span class="funciona-step-icon">üõ∞Ô∏è</span>
        <span class="funciona-step-num">2</span>
        <div class="funciona-step-desc" data-translate="step2">Nuestros algoritmos consultan sat√©lites Sentinel en tiempo real</div>
      </div>
      <div class="funciona-step">
        <span class="funciona-step-icon">üì°</span>
        <span class="funciona-step-num">3</span>
        <div class="funciona-step-desc" data-translate="step3">Recibes an√°lisis detallado con recomendaciones espec√≠ficas</div>
      </div>
      <div class="funciona-step">
        <span class="funciona-step-icon">üìä</span>
        <span class="funciona-step-num">4</span>
        <div class="funciona-step-desc" data-translate="step4">Visualiza la ubicaci√≥n analizada en mapa interactivo</div>
      </div>
    </div>
    <div class="funciona-datos">
      <div class="funciona-dato"><span class="funciona-dato-icon">üì°</span><span data-translate="coverage">Cobertura: Mundial</span></div>
      <div class="funciona-dato"><span class="funciona-dato-icon">üõ∞Ô∏è</span><span data-translate="resolution">Resoluci√≥n: hasta 10 metros</span></div>
      <div class="funciona-dato"><span class="funciona-dato-icon">üå±</span><span data-translate="crops">15 cultivos soportados</span></div>
      <div class="funciona-dato"><span class="funciona-dato-icon">‚è±Ô∏è</span><span data-translate="speed">An√°lisis en menos de 30 segundos</span></div>
    </div>
  </section>

  <!-- CULTIVOS SOPORTADOS -->
  <section class="section" id="cultivos">
    <h2 style="text-align:center; color:#2E7D32; font-size:2rem; font-weight:700; margin-bottom:18px;" data-translate="cropsTitle">Cultivos analizados</h2>
    <div class="cultivos-grid">
      <div class="cultivo-item" data-translate="coffee">Caf√©</div>
      <div class="cultivo-item" data-translate="tomato">Tomate</div>
      <div class="cultivo-item" data-translate="corn">Ma√≠z</div>
      <div class="cultivo-item" data-translate="rice">Arroz</div>
      <div class="cultivo-item" data-translate="potato">Papa</div>
      <div class="cultivo-item" data-translate="beans">Frijol</div>
      <div class="cultivo-item" data-translate="onion">Cebolla</div>
      <div class="cultivo-item" data-translate="lettuce">Lechuga</div>
      <div class="cultivo-item" data-translate="banana">Pl√°tano</div>
      <div class="cultivo-item" data-translate="sugarcane">Ca√±a de az√∫car</div>
      <div class="cultivo-item" data-translate="cacao">Cacao</div>
      <div class="cultivo-item" data-translate="cassava">Yuca</div>
      <div class="cultivo-item" data-translate="flowers">Flores</div>
      <div class="cultivo-item" data-translate="wheat">Trigo</div>
      <div class="cultivo-item" data-translate="avocado">Aguacate</div>
    </div>
  </section>

  <!-- FORMULARIO Y RESULTADOS -->
  <section class="section bg-alt" id="form-section" style="padding-left:24px; padding-right:24px; margin:60px auto 80px auto;">
    <div class="form-section-title" data-translate="formTitle">Analiza tu finca ahora</div>
    <div class="main-container">
      <div class="header">
        <div class="logo"><span class="icon">üå±</span>AgroStable</div>
        <div class="subtitle">An√°lisis Satelital Agr√≠cola Inteligente</div>
      </div>
      <form id="farm-form" style="width:100%; max-width:600px; margin:0 auto; display:block; background:none; box-shadow:none; padding:0; border-radius:0;">
        <div class="form-group">
          <label for="farm-name" data-translate="farmName">Nombre de la finca</label>
          <input type="text" id="farm-name" name="farm-name" required>
        </div>
        <div class="form-group">
          <label for="latitud" data-translate="latitude">Latitud</label>
          <input type="number" id="latitud" name="latitude" step="any" required>
        </div>
        <div class="form-group">
          <label for="longitud" data-translate="longitude">Longitud</label>
          <input type="number" id="longitud" name="longitude" step="any" required>
        </div>
        <div class="form-group">
          <label for="crop-type" data-translate="cropType">Tipo de cultivo</label>
          <select id="crop-type" name="crop-type" required>
            <option value="" data-translate="selectCrop">Seleccione...</option>
            <option value="Tomate" data-translate="tomato">Tomate</option>
            <option value="Ma√≠z" data-translate="corn">Ma√≠z</option>
            <option value="Caf√©" data-translate="coffee">Caf√©</option>
            <option value="Arroz" data-translate="rice">Arroz</option>
            <option value="Papa" data-translate="potato">Papa</option>
            <option value="Frijol" data-translate="beans">Frijol</option>
            <option value="Cebolla" data-translate="onion">Cebolla</option>
            <option value="Lechuga" data-translate="lettuce">Lechuga</option>
            <option value="Pl√°tano" data-translate="banana">Pl√°tano</option>
            <option value="Ca√±a de az√∫car" data-translate="sugarcane">Ca√±a de az√∫car</option>
            <option value="Cacao" data-translate="cacao">Cacao</option>
            <option value="Yuca" data-translate="cassava">Yuca</option>
            <option value="Flores" data-translate="flowers">Flores</option>
            <option value="Trigo" data-translate="wheat">Trigo</option>
            <option value="Aguacate" data-translate="avocado">Aguacate</option>
          </select>
        </div>
        <div class="form-actions" style="display:flex; gap:20px; margin-top:8px; justify-content:center;">
          <button type="submit" data-translate="analyzeFarm">Analizar Finca</button>
          <button type="button" id="clear-btn" data-translate="clearBtn">Limpiar</button>
        </div>
      </form>
      <section id="resultados">
        <div id="result-map" style="height: 300px; border-radius: 12px; margin: 20px 0; display: none;"></div>
        <div id="resultados-lista"></div>
      </section>
    </div>
  </section>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const form = document.getElementById('farm-form');
    const resultados = document.getElementById('resultados');
    const resultadosLista = document.getElementById('resultados-lista');
    const clearBtn = document.getElementById('clear-btn');

    // LEAFLET MAPA DE RESULTADO
    let resultMap = null;
    let resultMarker = null;
    function mostrarMapaResultado(lat, lng) {
      const mapDiv = document.getElementById('result-map');
      mapDiv.style.display = 'block';
      mapDiv.innerHTML = '';
      
      if (!document.getElementById('result-map-title')) {
        const title = document.createElement('div');
        title.id = 'result-map-title';
        title.textContent = 'üìç Ubicaci√≥n Analizada';
        title.style.fontWeight = '600';
        title.style.fontSize = '18px';
        title.style.marginBottom = '8px';
        mapDiv.parentNode.insertBefore(title, mapDiv);
      }
      
      resultMap = L.map('result-map').setView([lat, lng], 15);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(resultMap);
      resultMarker = L.marker([lat, lng]).addTo(resultMap);
    }

    // SUBMIT DEL FORMULARIO CON API CORREGIDA
    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      try {
        const nombre = document.getElementById('farm-name').value.trim();
        const lat = document.getElementById('latitud').value.trim();
        const lon = document.getElementById('longitud').value.trim();
        const cultivo = document.getElementById('crop-type').value;
        
        if (!nombre || !lat || !lon || !cultivo) {
          alert('Por favor, complete todos los campos.');
          return;
        }
        
        resultadosLista.innerHTML = '<li>üîÑ Analizando datos satelitales y clim√°ticos...</li>';
        resultados.style.display = 'block';
        
        // LLAMADA A LA API CORREGIDA
        const response = await fetch('/api/test', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            latitude: parseFloat(lat),
            longitude: parseFloat(lon),
            cropType: cultivo
          })
        });

        if (!response.ok) {
          throw new Error(`Error HTTP: ${response.status}`);
        }

        const data = await response.json();
        
        // Mostrar resultados de la API mejorada
        let ndviText = 'N/A - Sin datos';
        let climaText = 'N/A';
        let subsidenciaText = 'Sin datos';
        let scoreText = 'N/A';
        
        // NDVI con estado inteligente
        if (data.ndvi !== null && data.ndvi !== undefined) {
          const ndviPercent = Math.round(data.ndvi * 100);
          let estado = data.analysis?.ndvi?.status || 'REGULAR';
          ndviText = `${data.ndvi.toFixed(2)} (${ndviPercent}%) - ${estado}`;
        }
        
        // Clima mejorado
        if (data.climate) {
          const temp = data.climate.temperature || 'N/A';
          const humidity = data.climate.humidity || 'N/A';
          const desc = data.climate.description || '';
          climaText = `${temp}¬∞C, Humedad: ${humidity}% ${desc ? '(' + desc + ')' : ''}`;
        }
        
        // Subsidencia con an√°lisis
        if (data.subsidence !== null && data.subsidence !== undefined) {
          let subsidenciaEstado = data.analysis?.subsidence?.status || 'SIN AN√ÅLISIS';
          subsidenciaText = `${data.subsidence} mm/a√±o - ${subsidenciaEstado}`;
        }
        
        // Puntuaci√≥n final
        if (data.score !== null && data.score !== undefined) {
          let scoreLevel = '';
          if (data.score >= 80) scoreLevel = 'EXCELENTE';
          else if (data.score >= 60) scoreLevel = 'BUENO';
          else if (data.score >= 40) scoreLevel = 'REGULAR';
          else scoreLevel = 'CR√çTICO';
          
          scoreText = `${Math.round(data.score)}/100 (${scoreLevel})`;
        }
        
        const recommendations = data.recommendations || ['Mantener monitoreo regular', 'Seguir buenas pr√°cticas agr√≠colas'];
        
        // Generar rangos NDVI espec√≠ficos por cultivo
        let ndviRanges = '';
        if (cultivo === 'Caf√©') {
          ndviRanges = `
            <strong>Rangos NDVI para Caf√©:</strong><br>
            ‚Ä¢ 0.80 - 1.00: Excelente (vegetaci√≥n densa)<br>
            ‚Ä¢ 0.60 - 0.79: Bueno (vegetaci√≥n saludable)<br>
            ‚Ä¢ 0.40 - 0.59: Regular (estr√©s moderado)<br>
            ‚Ä¢ 0.20 - 0.39: Malo (estr√©s severo)<br>
            ‚Ä¢ 0.00 - 0.19: Cr√≠tico (suelo desnudo o vegetaci√≥n muerta)
          `;
        } else if (cultivo === 'Tomate') {
          ndviRanges = `
            <strong>Rangos NDVI para Tomate:</strong><br>
            ‚Ä¢ 0.75 - 1.00: Excelente (vegetaci√≥n densa)<br>
            ‚Ä¢ 0.55 - 0.74: Bueno (vegetaci√≥n saludable)<br>
            ‚Ä¢ 0.35 - 0.54: Regular (estr√©s moderado)<br>
            ‚Ä¢ 0.15 - 0.34: Malo (estr√©s severo)<br>
            ‚Ä¢ 0.00 - 0.14: Cr√≠tico (suelo desnudo o vegetaci√≥n muerta)
          `;
        } else {
          ndviRanges = `
            <strong>Rangos NDVI para ${cultivo}:</strong><br>
            ‚Ä¢ 0.80 - 1.00: Excelente<br>
            ‚Ä¢ 0.60 - 0.79: Bueno<br>
            ‚Ä¢ 0.40 - 0.59: Regular<br>
            ‚Ä¢ 0.20 - 0.39: Malo<br>
            ‚Ä¢ 0.00 - 0.19: Cr√≠tico
          `;
        }

        // Explicaci√≥n de puntuaci√≥n detallada
        let scoreExplanation = '';
        if (data.analysis) {
          scoreExplanation = '<br><strong>¬øPor qu√© esta puntuaci√≥n?</strong><br>';
          if (data.analysis.ndvi) {
            scoreExplanation += `‚Ä¢ <strong>NDVI ${data.analysis.ndvi.status}</strong> (-${data.analysis.ndvi.penalty} puntos): `;
            if (data.analysis.ndvi.status === 'CR√çTICO') scoreExplanation += 'Vegetaci√≥n muy escasa o suelo desnudo.';
            else if (data.analysis.ndvi.status === 'BUENO') scoreExplanation += 'Vegetaci√≥n saludable.';
            else if (data.analysis.ndvi.status === 'EXCELENTE') scoreExplanation += 'Vegetaci√≥n √≥ptima y densa.';
            else scoreExplanation += 'Estado de vegetaci√≥n intermedio.';
            scoreExplanation += '<br>';
          }
          if (data.analysis.subsidence) {
            scoreExplanation += `‚Ä¢ <strong>Subsidencia ${data.analysis.subsidence.status}</strong> (-${data.analysis.subsidence.penalty} puntos): `;
            if (data.analysis.subsidence.status === 'CR√çTICO') scoreExplanation += 'Terreno inestable amenaza la infraestructura.';
            else if (data.analysis.subsidence.status === 'ESTABLE') scoreExplanation += 'Terreno completamente estable.';
            else scoreExplanation += 'Ligera inestabilidad del terreno.';
            scoreExplanation += '<br>';
          }
          if (data.analysis.temperature) {
            const tempPenalty = data.analysis.temperature.penalty || 0;
            if (tempPenalty > 0) {
              scoreExplanation += `‚Ä¢ <strong>Temperatura</strong> (-${tempPenalty} puntos): Fuera del rango √≥ptimo para ${cultivo}.<br>`;
            }
          }
          if (data.analysis.humidity) {
            const humPenalty = data.analysis.humidity.penalty || 0;
            if (humPenalty > 0) {
              scoreExplanation += `‚Ä¢ <strong>Humedad</strong> (-${humPenalty} puntos): Nivel inadecuado para ${cultivo}.<br>`;
            }
          }
        }

        resultadosLista.innerHTML = `
          <div style="line-height: 1.6; color: #333;">
            <div style="margin-bottom: 25px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #2E7D32;">üå± NDVI: ${ndviText}</h4>
              <p style="margin: 8px 0;"><strong>Tu plantaci√≥n de ${cultivo} est√° en estado ${data.analysis?.ndvi?.status?.toLowerCase() || 'desconocido'}.</strong></p>
              <p style="margin: 8px 0;"><strong>¬øQu√© significa esto?</strong><br>
              El NDVI (√çndice de Vegetaci√≥n de Diferencia Normalizada) indica el vigor y salud de la vegetaci√≥n. Valores altos significan plantas sanas y densas; valores bajos indican estr√©s, escasez o muerte vegetal.</p>
              <p style="margin: 8px 0;"><strong>¬øDe d√≥nde sale este dato?</strong><br>
              Analizamos tu finca con m√∫ltiples im√°genes satelitales (Sentinel-2) de los √∫ltimos 30 d√≠as que miden el "verdor" de las plantas usando bandas del espectro visible e infrarrojo.</p>
              <div style="margin: 10px 0; font-size: 14px; background: #e8f5e8; padding: 10px; border-radius: 5px;">
                ${ndviRanges}
              </div>
            </div>

            <div style="margin-bottom: 25px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #1976D2;">üå°Ô∏è Condiciones clim√°ticas: ${climaText}</h4>
              <p style="margin: 8px 0;"><strong>An√°lisis clim√°tico para ${cultivo}:</strong></p>
              ${data.climate ? `
                <p style="margin: 5px 0;">‚Ä¢ Temperatura: ${data.climate.temperature}¬∞C - ${data.climate.temperature >= 18 && data.climate.temperature <= 26 ? '√ìPTIMA' : 'FUERA DEL RANGO'} para ${cultivo} (ideal: 18-26¬∞C).</p>
                <p style="margin: 5px 0;">‚Ä¢ Humedad: ${data.climate.humidity}% - ${data.climate.humidity >= 60 && data.climate.humidity <= 80 ? 'ADECUADA' : 'INADECUADA'} para ${cultivo} (ideal: 60-80%).</p>
              ` : '<p>Datos clim√°ticos no disponibles</p>'}
            </div>

            <div style="margin-bottom: 25px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #795548;">üèîÔ∏è Subsidencia: ${subsidenciaText}</h4>
              <p style="margin: 8px 0;"><strong>¬øQu√© es subsidencia?</strong><br>
              La subsidencia es el hundimiento gradual del terreno, que puede afectar la estabilidad de cultivos y estructuras agr√≠colas.</p>
              <p style="margin: 8px 0;"><strong>¬øC√≥mo lo medimos?</strong><br>
              Usamos radares satelitales (Sentinel-1) que detectan cambios milim√©tricos en la altura del suelo a lo largo del tiempo.</p>
              <div style="margin: 10px 0; font-size: 14px; background: #e8f5e8; padding: 10px; border-radius: 5px;">
                <strong>Rangos de subsidencia:</strong><br>
                ‚Ä¢ 0-1 mm/a√±o: Estable<br>
                ‚Ä¢ 1-3 mm/a√±o: Ligeramente inestable<br>
                ‚Ä¢ 3-6 mm/a√±o: Inestable<br>
                ‚Ä¢ >6 mm/a√±o: Cr√≠tico
              </div>
            </div>

            <div style="margin-bottom: 25px; padding: 15px; background: #f0f8ff; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #1976D2;">üéØ Recomendaciones espec√≠ficas:</h4>
              <ul style="margin: 8px 0; padding-left: 20px; line-height: 1.5;">
                ${recommendations.map(r => `<li style="margin-bottom: 8px;">${r}</li>`).join('')}
              </ul>
            </div>

            <div style="margin-bottom: 25px; padding: 15px; background: #fff3e0; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #F57C00;">üìä Puntuaci√≥n general: ${scoreText}</h4>
              ${scoreExplanation}
            </div>

            <div style="margin-bottom: 25px; padding: 15px; background: #f3e5f5; border-radius: 8px;">
              <h4 style="margin: 0 0 10px 0; color: #7B1FA2;">üìö GLOSARIO:</h4>
              <p style="margin: 5px 0; font-size: 14px;"><strong>NDVI:</strong> √çndice de Vegetaci√≥n que mide el verdor y salud de las plantas (0-1, m√°s alto = m√°s sano).</p>
              <p style="margin: 5px 0; font-size: 14px;"><strong>Subsidencia:</strong> Hundimiento gradual del terreno, medido en mil√≠metros por a√±o.</p>
              <p style="margin: 5px 0; font-size: 14px;"><strong>Sentinel-2:</strong> Sat√©lite europeo que provee im√°genes multiespectrales para agricultura.</p>
              <p style="margin: 5px 0; font-size: 14px;"><strong>Sentinel-1:</strong> Sat√©lite radar que detecta cambios en la superficie terrestre.</p>
            </div>
          </div>
        `;
        
        resultados.style.display = 'block';
        resultados.scrollIntoView({behavior:'smooth'});
        
        if (!isNaN(parseFloat(lat)) && !isNaN(parseFloat(lon))) {
          mostrarMapaResultado(parseFloat(lat), parseFloat(lon));
        }
      } catch (err) {
        console.error('Error en el an√°lisis:', err);
        resultadosLista.innerHTML = '<li>‚ùå Error al consultar el clima o subsidencia. Intenta de nuevo m√°s tarde.</li>';
      }
    });

    // Limpiar formulario
    clearBtn.addEventListener('click', function() {
      form.reset();
      resultados.style.display = 'none';
      resultadosLista.innerHTML = '';
    });
  </script>
  
  <script>
  // TRADUCCIONES COMPLETAS
  const translations = {
      es: {
          heroTitle: "AgroStable - An√°lisis Satelital Agr√≠cola Inteligente",
          heroSubtitle: "Previene p√©rdidas en tu cultivo con datos satelitales en tiempo real",
          heroDescription: "Analiza la salud de tu plantaci√≥n, condiciones clim√°ticas y estabilidad del suelo usando tecnolog√≠a espacial de √∫ltima generaci√≥n",
          heroButton: "Analizar mi finca gratis",
          stat1: "15+ cultivos analizados",
          stat2: "10m resoluci√≥n espacial", 
          stat3: "30 segundos an√°lisis",
          stat4: "<5% margen error",
          whatAnalyze: "¬øQu√© analizamos en tu finca?",
          ndviTitle: "NDVI - Salud de Plantas",
          ndviDesc: "Usando im√°genes multiespectrales de Sentinel-2, medimos la reflectancia infrarroja de tus cultivos. Valores altos indican vegetaci√≥n densa y saludable, mientras valores bajos revelan estr√©s h√≠drico, deficiencias nutricionales, plagas o enfermedades.",
          climateTitle: "Condiciones Clim√°ticas",
          climateDesc: "Datos meteorol√≥gicos actualizados cada hora desde estaciones globales: temperatura ambiente, humedad relativa, velocidad del viento y condiciones atmosf√©ricas.",
          soilTitle: "Estabilidad del Suelo",
          soilDesc: "Tecnolog√≠a radar de apertura sint√©tica (SAR) de Sentinel-1 detecta movimientos milim√©tricos del terreno. Medimos subsidencia, expansi√≥n del suelo y microdeformaciones.",
          howWorks: "Tecnolog√≠a satelital al servicio de tu finca",
          step1: "Ingresa las coordenadas de tu finca",
          step2: "Nuestros algoritmos consultan sat√©lites Sentinel en tiempo real",
          step3: "Recibes an√°lisis detallado con recomendaciones espec√≠ficas",
          step4: "Visualiza la ubicaci√≥n analizada en mapa interactivo",
          coverage: "Cobertura: Mundial",
          resolution: "Resoluci√≥n: hasta 10 metros",
          crops: "15 cultivos soportados",
          speed: "An√°lisis en menos de 30 segundos",
          cropsTitle: "Cultivos analizados",
          formTitle: "Analiza tu finca ahora",
          analyzeFarm: "Analizar Finca",
          clearBtn: "Limpiar",
          farmName: "Nombre de la finca",
          latitude: "Latitud",
          longitude: "Longitud",
          cropType: "Tipo de cultivo",
          selectCrop: "Seleccione...",
          coffee: "Caf√©",
          tomato: "Tomate",
          corn: "Ma√≠z",
          rice: "Arroz", 
          potato: "Papa",
          beans: "Frijol",
          onion: "Cebolla",
          lettuce: "Lechuga",
          banana: "Pl√°tano",
          sugarcane: "Ca√±a de az√∫car",
          cacao: "Cacao",
          cassava: "Yuca",
          flowers: "Flores",
          wheat: "Trigo",
          avocado: "Aguacate"
      },
      en: {
          heroTitle: "AgroStable - Intelligent Agricultural Satellite Analysis",
          heroSubtitle: "Prevent crop losses with real-time satellite data",
          heroDescription: "Analyze your plantation's health, weather conditions, and soil stability using cutting-edge space technology",
          heroButton: "Analyze my farm for free",
          stat1: "15+ crops analyzed",
          stat2: "10m spatial resolution",
          stat3: "30 seconds analysis", 
          stat4: "<5% error margin",
          whatAnalyze: "What do we analyze on your farm?",
          ndviTitle: "NDVI - Plant Health",
          ndviDesc: "Using Sentinel-2 multispectral images, we measure the infrared reflectance of your crops. High values indicate dense, healthy vegetation, while low values reveal water stress, nutritional deficiencies, pests, or diseases.",
          climateTitle: "Weather Conditions",
          climateDesc: "Weather data updated hourly from global stations: air temperature, relative humidity, wind speed, and atmospheric conditions.",
          soilTitle: "Soil Stability",
          soilDesc: "Synthetic aperture radar (SAR) technology from Sentinel-1 detects millimetric ground movements. We measure subsidence, soil expansion, and micro-deformations.",
          howWorks: "Satellite technology at your farm's service",
          step1: "Enter your farm's coordinates",
          step2: "Our algorithms query Sentinel satellites in real time",
          step3: "You receive detailed analysis with specific recommendations",
          step4: "View the analyzed location on an interactive map",
          coverage: "Coverage: Worldwide",
          resolution: "Resolution: up to 10 meters",
          crops: "15 crops supported",
          speed: "Analysis in less than 30 seconds",
          cropsTitle: "Analyzed crops",
          formTitle: "Analyze your farm now",
          analyzeFarm: "Analyze Farm",
          clearBtn: "Clear",
          farmName: "Farm name",
          latitude: "Latitude",
          longitude: "Longitude",
          cropType: "Crop type",
          selectCrop: "Select...",
          coffee: "Coffee",
          tomato: "Tomato",
          corn: "Corn",
          rice: "Rice",
          potato: "Potato",
          beans: "Beans",
          onion: "Onion",
          lettuce: "Lettuce",
          banana: "Banana",
          sugarcane: "Sugar cane",
          cacao: "Cacao",
          cassava: "Cassava",
          flowers: "Flowers",
          wheat: "Wheat",
          avocado: "Avocado"
      },
      pt: {
          heroTitle: "AgroStable - An√°lise Satelital Agr√≠cola Inteligente",
          heroSubtitle: "Previna perdas na sua cultura com dados satelitais em tempo real",
          heroDescription: "Analise a sa√∫de da sua planta√ß√£o, condi√ß√µes clim√°ticas e estabilidade do solo usando tecnologia espacial de √∫ltima gera√ß√£o",
          heroButton: "Analisar minha fazenda gr√°tis",
          stat1: "15+ culturas analisadas",
          stat2: "10m resolu√ß√£o espacial",
          stat3: "30 segundos an√°lise",
          stat4: "<5% margem de erro",
          whatAnalyze: "O que analisamos na sua fazenda?",
          ndviTitle: "NDVI - Sa√∫de das Plantas",
          ndviDesc: "Usando imagens multiespectrais do Sentinel-2, medimos a reflet√¢ncia infravermelha das suas culturas. Valores altos indicam vegeta√ß√£o densa e saud√°vel, enquanto valores baixos revelam estresse h√≠drico, defici√™ncias nutricionais, pragas ou doen√ßas.",
          climateTitle: "Condi√ß√µes Clim√°ticas",
          climateDesc: "Dados meteorol√≥gicos atualizados a cada hora de esta√ß√µes globais: temperatura do ar, umidade relativa, velocidade do vento e condi√ß√µes atmosf√©ricas.",
          soilTitle: "Estabilidade do Solo",
          soilDesc: "Tecnologia de radar de abertura sint√©tica (SAR) do Sentinel-1 detecta movimentos milim√©tricos do solo. Medimos subsid√™ncia, expans√£o do solo e microdeforma√ß√µes.",
          howWorks: "Tecnologia satelital a servi√ßo da sua fazenda",
          step1: "Insira as coordenadas da sua fazenda",
          step2: "Nossos algoritmos consultam sat√©lites Sentinel em tempo real",
          step3: "Voc√™ recebe an√°lise detalhada com recomenda√ß√µes espec√≠ficas",
          step4: "Visualize o local analisado em mapa interativo",
          coverage: "Cobertura: Mundial",
          resolution: "Resolu√ß√£o: at√© 10 metros",
          crops: "15 culturas suportadas",
          speed: "An√°lise em menos de 30 segundos",
          cropsTitle: "Culturas analisadas",
          formTitle: "Analise sua fazenda agora",
          analyzeFarm: "Analisar Fazenda",
          clearBtn: "Limpar",
          farmName: "Nome da fazenda",
          latitude: "Latitude",
          longitude: "Longitude",
          cropType: "Tipo de cultura",
          selectCrop: "Selecione...",
          coffee: "Caf√©",
          tomato: "Tomate",
          corn: "Milho",
          rice: "Arroz",
          potato: "Batata",
          beans: "Feij√£o",
          onion: "Cebola",
          lettuce: "Alface",
          banana: "Banana",
          sugarcane: "Cana de a√ß√∫car",
          cacao: "Cacau",
          cassava: "Mandioca",
          flowers: "Flores",
          wheat: "Trigo",
          avocado: "Abacate"
      },
      fr: {
          heroTitle: "AgroStable - Analyse Satellitaire Agricole Intelligente",
          heroSubtitle: "Pr√©venez les pertes de r√©coltes avec des donn√©es satellitaires en temps r√©el",
          heroDescription: "Analysez la sant√© de votre plantation, les conditions climatiques et la stabilit√© du sol gr√¢ce √† la technologie spatiale de derni√®re g√©n√©ration",
          heroButton: "Analyser ma ferme gratuitement",
          stat1: "15+ cultures analys√©es",
          stat2: "10m r√©solution spatiale",
          stat3: "30 secondes d'analyse",
          stat4: "<5% marge d'erreur",
          whatAnalyze: "Que analysons-nous sur votre ferme ?",
          ndviTitle: "NDVI - Sant√© des Plantes",
          ndviDesc: "√Ä l'aide d'images multispectrales Sentinel-2, nous mesurons la r√©flectance infrarouge de vos cultures. Des valeurs √©lev√©es indiquent une v√©g√©tation dense et saine, tandis que des valeurs faibles r√©v√®lent un stress hydrique, des carences nutritionnelles, des ravageurs ou des maladies.",
          climateTitle: "Conditions Climatiques",
          climateDesc: "Donn√©es m√©t√©orologiques mises √† jour toutes les heures √† partir de stations mondiales : temp√©rature de l'air, humidit√© relative, vitesse du vent et conditions atmosph√©riques.",
          soilTitle: "Stabilit√© du Sol",
          soilDesc: "La technologie radar √† synth√®se d'ouverture (SAR) de Sentinel-1 d√©tecte les mouvements millim√©triques du sol. Nous mesurons la subsidence, l'expansion du sol et les microd√©formations.",
          howWorks: "Technologie satellitaire au service de votre ferme",
          step1: "Saisissez les coordonn√©es de votre ferme",
          step2: "Nos algorithmes interrogent les satellites Sentinel en temps r√©el",
          step3: "Vous recevez une analyse d√©taill√©e avec des recommandations sp√©cifiques",
          step4: "Visualisez l'emplacement analys√© sur une carte interactive",
          coverage: "Couverture : Mondiale",
          resolution: "R√©solution : jusqu'√† 10 m√®tres",
          crops: "15 cultures prises en charge",
          speed: "Analyse en moins de 30 secondes",
          cropsTitle: "Cultures analys√©es",
          formTitle: "Analysez votre ferme maintenant",
          analyzeFarm: "Analyser la Ferme",
          clearBtn: "Effacer",
          farmName: "Nom de la ferme",
          latitude: "Latitude",
          longitude: "Longitude",
          cropType: "Type de culture",
          selectCrop: "S√©lectionner...",
          coffee: "Caf√©",
          tomato: "Tomate",
          corn: "Ma√Øs",
          rice: "Riz",
          potato: "Pomme de terre",
          beans: "Haricots",
          onion: "Oignon",
          lettuce: "Laitue",
          banana: "Banane",
          sugarcane: "Canne √† sucre",
          cacao: "Cacao",
          cassava: "Manioc",
          flowers: "Fleurs",
          wheat: "Bl√©",
          avocado: "Avocat"
      },
      it: {
          heroTitle: "AgroStable - Analisi Satellitare Agricola Intelligente",
          heroSubtitle: "Previeni le perdite del raccolto con dati satellitari in tempo reale",
          heroDescription: "Analizza la salute della tua piantagione, le condizioni climatiche e la stabilit√† del suolo utilizzando la pi√π recente tecnologia spaziale",
          heroButton: "Analizza la mia fattoria gratis",
          stat1: "15+ colture analizzate",
          stat2: "10m risoluzione spaziale",
          stat3: "30 secondi di analisi",
          stat4: "<5% margine di errore",
          whatAnalyze: "Cosa analizziamo nella tua azienda?",
          ndviTitle: "NDVI - Salute delle Piante",
          ndviDesc: "Utilizzando immagini multispettrali Sentinel-2, misuriamo la riflettanza infrarossa delle tue colture. Valori elevati indicano vegetazione densa e sana, mentre valori bassi rivelano stress idrico, carenze nutrizionali, parassiti o malattie.",
          climateTitle: "Condizioni Climatiche", 
          climateDesc: "Dati meteorologici aggiornati ogni ora da stazioni globali: temperatura dell'aria, umidit√† relativa, velocit√† del vento e condizioni atmosferiche.",
          soilTitle: "Stabilit√† del Suolo",
          soilDesc: "La tecnologia radar ad apertura sintetica (SAR) di Sentinel-1 rileva movimenti millimetrici del terreno. Misuriamo subsidenza, espansione del suolo e microdeformazioni.",
          howWorks: "Tecnologia satellitare al servizio della tua azienda",
          step1: "Inserisci le coordinate della tua azienda",
          step2: "I nostri algoritmi consultano i satelliti Sentinel in tempo reale",
          step3: "Ricevi un'analisi dettagliata con raccomandazioni specifiche",
          step4: "Visualizza la posizione analizzata su una mappa interattiva",
          coverage: "Copertura: Mondiale",
          resolution: "Risoluzione: fino a 10 metri",
          crops: "15 colture supportate",
          speed: "Analisi in meno di 30 secondi",
          cropsTitle: "Colture analizzate",
          formTitle: "Analizza la tua fattoria ora",
          analyzeFarm: "Analizza Fattoria",
          clearBtn: "Cancella",
          farmName: "Nome della fattoria",
          latitude: "Latitudine",
          longitude: "Longitudine",
          cropType: "Tipo di coltura",
          selectCrop: "Seleziona...",
          coffee: "Caff√®",
          tomato: "Pomodoro",
          corn: "Mais",
          rice: "Riso",
          potato: "Patata",
          beans: "Fagioli",
          onion: "Cipolla",
          lettuce: "Lattuga",
          banana: "Banana",
          sugarcane: "Canna da zucchero",
          cacao: "Cacao",
          cassava: "Cassava",
          flowers: "Fiori",
          wheat: "Grano",
          avocado: "Avocado"
      }
  };

  function changeLanguage() {
      const lang = document.getElementById('languageSelect').value;
      const texts = translations[lang];
      
      Object.keys(texts).forEach(key => {
          const elements = document.querySelectorAll(`[data-translate="${key}"]`);
          elements.forEach(element => {
              if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                  element.placeholder = texts[key];
              } else if (element.tagName === 'OPTION') {
                  element.textContent = texts[key];
              } else {
                  // Para elementos con contenido mixto (como hero-title con icono)
                  if (element.querySelector('.icon')) {
                      const icon = element.querySelector('.icon');
                      element.innerHTML = icon.outerHTML + texts[key].replace('üå±', '');
                  } else {
                      element.textContent = texts[key];
                  }
              }
          });
      });
  }
  </script>
</body>
</html>
